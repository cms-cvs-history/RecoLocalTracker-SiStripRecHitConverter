process Clusterizer = {

	source = PoolSource { 
	       untracked string fileName = "DigisToDigis.root"
	       untracked int32 maxEvents = 20
	}

        module out = PoolOutputModule {
              untracked string fileName = 'ClusterstoRecHit.root'
        }

	module ThreeThresholdClusterizer =  SiStripClusterizer {
		string DigiProducer = "stripdigi"
		string ClusterMode = "ThreeThresholdClusterizer"
		double ChannelThreshold = 2.0
		double SeedThreshold = 3.0
		double ClusterThreshold = 2.0
	}
 	es_source magfield = XMLIdealGeometryESSource {
                    FileInPath GeometryConfiguration ="SimG4Core/Application/test/FieldConfiguration.xml"
                    #the proper root node is set in the xml file
                    string rootNodeName=""
        }
        es_module = VolumeBasedMagneticFieldESProducer {
                     double findVolumeTolerance = 0.0
                     untracked bool cacheLastVolume = true
                     untracked bool timerOn = false
        }

        es_source = XMLIdealGeometryESSource {
               FileInPath GeometryConfiguration = "Geometry/TrackerSimData/data/trackerSimConfiguration.xml"
               #the proper root node is set in the xml file
               string rootNodeName = ""
        }

        es_module = TrackerGeometricDetESModule {}
        es_module = TrackerDigiGeometryESModule {}
        module LocalMeasurementConverter =  SiStripRecHitConverter{
                untracked int32 VerbosityLevel = 1
		double TanLorentzAnglePerTesla=0.106
                string ClusterProducer = "ThreeThresholdClusterizer"
        }

	path p = { ThreeThresholdClusterizer,LocalMeasurementConverter,out}
}
