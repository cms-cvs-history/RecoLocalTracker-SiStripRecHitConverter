process Clusterizer = {
  	service = MessageLogger {
    		untracked vstring destinations = { "DigiToRecHit_err.txt", "DigiToRecHit_log.txt" }
    		untracked vstring statistics   = { "statistics.txt"}
		untracked PSet statistics.txt  = { untracked string threshold  = "WARNING"   }
	 	untracked PSet DigiToRecHit_err.txt = { untracked string threshold = "ERROR"}	
  	}
	source = PoolSource { 
#	       untracked vstring fileNames = {'file:muon_500.root'}
	       untracked vstring fileNames = {'file:digitized_strips_from_flatptgun.root'}
	       untracked int32 maxEvents = -1
	}

        module out = PoolOutputModule {
              untracked string fileName = 'ClusterstoRecHit.root'
        }

 include "RecoLocalTracker/SiStripClusterizer/data/SiStripClusterizer.cfi"
 # initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # tracker geometry
  include "Geometry/TrackerRecoData/data/trackerRecoGeometryXML.cfi"

  # tracker geometry
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # tracker numbering
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"


 include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
 include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"

	path p = { ThreeThresholdClusterizer,LocalMeasurementConverter}
	endpath end= { out }
}
